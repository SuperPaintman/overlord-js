<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: overlord.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: overlord.js</h1>

    


    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>'use strict';

/**
 * Overlord-js
 * @author SuperPaintman
 * @site flatdev.ru
 */

/**
 * Перегрузка функции
 * @function overlord
 * @param  {Array} overloads         - Массив вариантов перегружаемой функции 
 * @param  {Function} def            - Функция, выполняемая, если ни один из вариантов не подошел
 * @param  {Boolean} error           - Вызывать ли ошибку, в случае, если ни один вариант не подходит и не установлен default вариант
 * @return {Function}                - Перегруженная функция
 */
var overlord;

overlord = function(overloads, def, error) {
  if (error == null) {
    error = false;
  }
  return function() {

    /**
     * Функция, которая будет вызвана
     * @type {Function|Undefined}
     */
    var checkVal, firstart, found, func, i, j, k, l, lastarg, len, len1, len2, overargs, overload, ref, ref1, type;
    if (def) {
      func = def;
    } else {
      func = void 0;
    }
    for (i = j = 0, len = overloads.length; j &lt; len; i = ++j) {
      overload = overloads[i];
      if ((overload != null ? overload.func : void 0) != null) {
        overload["function"] = overload.func;
      }
      if ((overload != null ? overload.args : void 0) == null) {
        throw new Error((i + 1) + " overload hasn't arguments");
      }
      if ((overload != null ? overload["function"] : void 0) == null) {
        throw new Error((i + 1) + " overload hasn't function");
      }

      /**
       * Найдена ли функция
       * @type {Boolean}
       */
      found = true;

      /**
       * @var {Type|String} firstart   - первый аргумент предполагаемый аргумент
       * @var {Arrar} overargs         - все аргумент являющиеся Type
       * @var {Type|String} lastarg    - последний аргумент предполагаемый аргумент
       */
      ref = overload.args, firstart = ref[0], lastarg = ref[ref.length - 1];
      if (lastarg === '...') {
        overargs = overload.args.slice(0, -1);
      } else {
        overargs = overload.args;
      }
      if ((overargs.length === arguments.length) || (arguments.length > 0 &amp;&amp; lastarg === '...') || (arguments.length === 0 &amp;&amp; firstart === '...')) {
        if (found) {
          for (i = k = 0, len1 = overargs.length; k &lt; len1; i = ++k) {
            type = overargs[i];
            if (type.constructor === String &amp;&amp; type.toLowerCase() === 'any') {
              break;
            } else if (arguments[i] &amp;&amp; arguments[i].constructor !== type) {
              found = false;
              break;
            }
          }
        }
        if (found &amp;&amp; ((overload != null ? overload.check : void 0) != null)) {
          ref1 = overload.check;
          for (i = l = 0, len2 = ref1.length; l &lt; len2; i = ++l) {
            checkVal = ref1[i];
            if (checkVal instanceof RegExp) {
              if (!checkVal.test(arguments[i])) {
                found = false;
                break;
              }
            } else if (checkVal instanceof Function) {
              if (!checkVal(arguments[i])) {
                found = false;
                break;
              }
            } else {
              if (arguments[i] !== checkVal) {
                found = false;
                break;
              }
            }
          }
        }
      } else {
        found = false;
      }
      if (found) {
        func = overload["function"];
        break;
      }
    }
    if (func || error) {
      return func.apply(this, arguments);
    }
  };
};

module.exports = overlord;
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Index</a></h2>
</nav>

<br clear="both">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.3.0-alpha5</a> on Sat Sep 19 2015 05:06:30 GMT+0500 (Западная Азия (зима))
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
